{{ 'image-banner.css' | asset_url | stylesheet_tag }}
<div class="banner-swiper swiper bannerSwiper" style="margin-top: 2.5rem;">
  <div class="swiper-wrapper">
    {% for block in section.blocks %}
      <div class="swiper-slide relative">
        <!-- Desktop Image -->
        <img
          src="{{ block.settings.desktop_image | image_url: width: 1800, format: 'webp' }}"
          alt="{{ block.settings.heading | escape }}"
          class="ctm-banner-swipe-img-desktop"
          width="auto"
          height="auto"
        >

        <!-- Mobile Image -->
        <div
          alt="{{ block.settings.heading | escape }}"
          class="ctm-banner-swipe-img-mobile"
          style="background-image: url('{{ block.settings.mobile_image | image_url: width: 900, format: 'webp' }}');"
        ></div>

        <div class="ctm-banner-overlay">
          <div class="ctm-banner-content">
            {% if block.settings.heading != blank %}
              <h1 class="">{{ block.settings.heading | escape }}</h1>
            {% endif %}

            {% if block.settings.button_link != blank and block.settings.button_text != blank %}
              <a href="{{ block.settings.button_link }}" class="">
                {{ block.settings.button_text }}
              </a>
            {% endif %}

            {% if block.settings.subheading != blank %}
              <p class="" style="font-family: &quot;oswald&quot;, sans-serif; font-size: 2.25rem; font-weight: 500; color: #fff; text-align: center; line-height: 1.2; letter-spacing: 1rem; text-shadow: 2px 0 black;">{{ block.settings.subheading | raw }}</p>
            {% endif %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>

  <!-- Pagination + Arrows -->
  <div class="swiper-pagination">&nbsp;</div>
  <div class="ctm-swiper-btn-next">
    <img src="{{ 'chevron-icon-right.png' | file_url }}" width="25px" height="25px">
  </div>
  <div class="ctm-swiper-btn-prev">
    <img src="{{ 'chevron-icon-right.png' | file_url }}" width="25px" height="25px">
  </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    new Swiper('.bannerSwiper', {
      effect: 'fade',
      fadeEffect: {
        crossFade: true,
      },
      loop: true,
      // autoplay: false,
      autoplay: {
        delay: 4000,
        disableOnInteraction: true,
      },
      pagination: {
        el: ".swiper-pagination",
      },
      navigation: {
        nextEl: '.ctm-swiper-btn-next',
        prevEl: '.ctm-swiper-btn-prev',
      },
      speed: 1500,
    });
  });
</script>

{% schema %}
{
  "name": "Banner Slideshow",
  "settings": [],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "desktop_image",
          "label": "Desktop Image"
        },
        {
          "type": "image_picker",
          "id": "mobile_image",
          "label": "Mobile Image"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading Text"
        },
        {
          "type": "text",
          "id": "subheading",
          "label": "Subheading Text"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "max_blocks": 10,
  "presets": [
    {
      "name": "Banner Slideshow"
    }
  ]
}
{% endschema %}
